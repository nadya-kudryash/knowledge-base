# База знаний
## bash

* `pwd` - print working directory - распечатать текущий путь 
* `cd` - change directory
* `cd ~` - перейти в домашний каталог
* `cd ..` - перейти в каталог на уровень выше
* tab - автоматическая дозапись
* `open` - откроет соответствующую директорию
* `open .` - откроет текущий каталог
* `open ..` - откроет каталог выше
* `ls -a` - откроет все файлы (в том числе скрытые)

.idea - нужно добавить в gitignore (это файлы python)

## Создание виртуальной среды
* `python3 -m venv .venv` - точка означает создание скрытой папки
* `cd .venv` - заходим в эту папку
* `ls` или `ls -a` - можем посмотреть файлы внутри этой папки
* `cd bin` - идем в папку bin
* `source ./bin/activate` - активируем так
* `pip3 freeze` - замораживаем пакеты
* `pip3 freeze > requirements.txt` - помещаем пакеты в тестовый файл

и на другом компе можно установить все из этого файла
* `pip3 install -r requirements.txt`

## добавляем версию в Git
* `git add .` - добавляет все из текущего каталога
* `git commit -m "initial commit"` - добавляем коммент и комиттим
* `git push` - выгружаем на гит

также в начале применяем 
* `git clone address` - вместо address подставляем адрес директории

также можно посмотреть что у нас по статусу
* `git status`


## МАНУАЛ КАК ВЫГРУЗИТЬ УЖЕ СУЩЕСТВУЮЩИЙ РЕПОЗИТОРИЙ НА GITHUB
* Идем на гитхаб и создаем новый репозиторий, при этом не создаем readme, gitignore и лицензию

* Открываем консоль,
* идем в директорию нашего проекта
* `git init` - инициализируем гит-репозиторий
* `git add .` - добавляем все файлы из проекта
* `git commit -m "First commit"` - коммитим с комментом

* далее копируем ссылку на наш репозиторий
* `git remote add origin ссылка`
* `git branch -M main` - видимо, это переход в основную ветку репозитория
* `git push -u origin main` - пушим все в эту основную ветку


## деплой бота на heroku
Открываем консоль, идем в директорию нашего проекта
* `git init` - инициализируем гит-репозиторий
* `git clone (наш проект)` - копируем наш репозиторий
* `cd (путь к проекту)` - идем в наш репозиторий
* `heroku login` - логинимся на хероку
* `heroku create (название приложения) --region eu` - создаем приложение
* `git add .` - добавляем все файлы из проекта
* `git commit -m "First commit"` - коммитим с комментом
* `git push heroku main` - пушим на хероку главную ветку main
* `heroku ps:scale bot=1` - запускаем бота
* `heroku logs -t` - смотрим логи


## деплой бота на python anywhere
* нажимаем files, создаем папку проекта, в папку выгружаем все файлы проекта
* нажимаем consoles > bash
* в bash устанавливаем через `pip install --user блаблабла` все нужные нам библиотеки
* нажимаем web, создаем приложение
* выбираем custom
* пишем название, выбираем язык
* возвращаемся в bash
* `cd (папка проекта)` - заходим в папку проекта
* `python main.py` - запускаем скрипт

## как подключить вечное задание
* идем в Tasks
* в разделе Always-on tasks нажимаем создать задание
* указываем путь к файлу `python3.9 /home/юзер/папка/main.py` - в начале обязательно указать версию языка
* если есть базы данных или другие файлы, к которым обращается бот, нужно во всех файлах прописать абсолютный путь к файлам в формате `/home/юзер/папка_проекта/название_файла.json`
* перед запуском задания нужно остановить выполнение программы в bash
* идем в bash и нажимаем `ctrl+c`
* возвращаемся в задание и запускаем его
